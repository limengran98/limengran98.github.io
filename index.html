<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mengran Li ‚Äî Researcher Profile</title>
  <meta name="description" content="Mengran Li ¬∑ Ph.D. Student in Control Science & Engineering, Sun Yat-sen University." />
  <link rel="icon" href="https://raw.githubusercontent.com/limengran98/limengran98.github.io/main/lmr.jpg" />
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { 
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#2563eb', // Sci-blue
          }
        }
      }
    };
  </script>

  <style>
    .fade-in { animation: fadeIn 0.5s ease-in; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    
    /* BibTeX Modal Styles */
    .modal-overlay { background-color: rgba(0, 0, 0, 0.5); }
  </style>
</head>
<body class="bg-white text-zinc-900 dark:bg-zinc-950 dark:text-zinc-100 antialiased font-sans relative">

  <nav class="sticky top-0 z-40 backdrop-blur-md bg-white/80 dark:bg-zinc-950/80 border-b border-zinc-200 dark:border-zinc-800">
    <div class="max-w-5xl mx-auto px-4 h-14 flex items-center justify-between">
      <a href="#" class="font-bold text-lg tracking-tight">Mengran Li</a>
      <div class="hidden md:flex gap-6 text-sm font-medium text-zinc-600 dark:text-zinc-400">
        <a href="#about" class="hover:text-primary transition">About</a>
        <a href="#news" class="hover:text-primary transition">News</a>
        <a href="#selected" class="hover:text-primary transition">Selected</a>
        <a href="#publications" class="hover:text-primary transition">Publications</a>
        <a href="#contact" class="hover:text-primary transition">Contact</a>
      </div>
      <button id="darkToggle" class="p-2 rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800 transition">
        üåô
      </button>
    </div>
  </nav>

  <main class="max-w-5xl mx-auto px-4 py-10 space-y-16">
    
    <section id="about" class="grid md:grid-cols-[180px,1fr] gap-8 items-start fade-in">
      <div class="relative group">
        <img src="https://raw.githubusercontent.com/limengran98/limengran98.github.io/main/lmr.jpg" 
             alt="Mengran Li" 
             class="w-40 h-40 rounded-xl object-cover shadow-lg border border-zinc-100 dark:border-zinc-800" />
      </div>
      <div>
        <h1 class="text-4xl font-bold tracking-tight mb-2">Mengran Li <span class="text-zinc-400 font-normal text-2xl">(ÊùéÊ¢¶ÁÑ∂)</span></h1>
        <p class="text-lg text-zinc-600 dark:text-zinc-300 mb-4">
          Ph.D. Student in Control Science & Engineering @ <a href="https://www.sysu.edu.cn/" class="text-primary hover:underline">Sun Yat-sen University</a>
        </p>
        <p class="text-zinc-600 dark:text-zinc-400 leading-relaxed mb-6 max-w-2xl">
          My research focuses on <strong>AI for Science</strong>, specifically in heterogeneous graph learning, temporal modeling, and bioinformatics. 
          I am advised by <a href="https://ise.sysu.edu.cn/teacher/ZhangRonghui" target="_blank" class="text-primary hover:underline">Prof. Ronghui Zhang</a> and <a href="https://sist.bjut.edu.cn/info/1403/2489.htm" target="_blank" class="text-primary hover:underline">Prof. Yong Zhang</a>.
          Previously, I interned at Baidu, SIAT, Westlake University, and CAIR.
        </p>
        <div class="flex gap-4 text-sm font-medium">
          <a href="https://scholar.google.com/citations?user=MLff8bQAAAAJ&hl=en" target="_blank" class="flex items-center gap-1 hover:text-primary transition">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 24a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm0-24L0 9.5l4.838 3.94A8 8 0 0 1 12 9a8 8 0 0 1 7.162 4.44L24 9.5z"/></svg>
            Google Scholar
          </a>
          <a href="https://github.com/limengran98" target="_blank" class="flex items-center gap-1 hover:text-primary transition">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
            GitHub
          </a>
          <a href="mailto:limr39@mail2.sysu.edu.cn" class="flex items-center gap-1 hover:text-primary transition">
            ‚úâÔ∏è Email
          </a>
        </div>
      </div>
    </section>

    <section id="news">
      <h2 class="text-2xl font-bold border-b border-zinc-200 dark:border-zinc-800 pb-2 mb-4 flex items-center gap-2">
        üî• News
      </h2>
      <ul class="space-y-3 text-sm text-zinc-600 dark:text-zinc-400">
        <li class="flex gap-4">
          <span class="font-mono text-zinc-400 shrink-0">2025.12</span>
          <span>One paper accepted by <strong>Pattern Recognition (PR)</strong>.</span>
        </li>
        <li class="flex gap-4">
          <span class="font-mono text-zinc-400 shrink-0">2025.12</span>
          <span>
            Research reported by media: 
            <a href="https://mp.weixin.qq.com/s/iC9xO-69NZXqvNLymqaIBA" target="_blank" class="text-primary hover:underline">Analysis of CHMR Framework</a>.
          </span>
        </li>
        <li class="flex gap-4">
          <span class="font-mono text-zinc-400 shrink-0">2025.11</span>
          <span>One paper accepted by <strong>AAAI 2025 (Oral)</strong>.</span>
        </li>
        <li class="flex gap-4">
          <span class="font-mono text-zinc-400 shrink-0">2025.10</span>
          <span>Awarded the <strong>National Scholarship</strong> for Ph.D. Students.</span>
        </li>
        <li class="flex gap-4">
          <span class="font-mono text-zinc-400 shrink-0">2025.10</span>
          <span>Awarded the <strong>Presidential Scholarship</strong> of Sun Yat-sen University.</span>
        </li>
        <li class="flex gap-4">
          <span class="font-mono text-zinc-400 shrink-0">2025.09</span>
          <span>One survey paper on Graph LLMs accepted by <strong>Expert Systems with Applications (ESWA)</strong>.</span>
        </li>
        <li class="flex gap-4">
          <span class="font-mono text-zinc-400 shrink-0">2025.03</span>
          <span>
             Awarded the SYSU Hong Kong/Macau Exchange Funding. Joint training at <strong>Westlake University</strong> and <strong>CAIR, HK</strong> (Supervisor: Prof. Stan Z. Li and Prof. Jiebo Luo).
          </span>
        </li>
      </ul>
    </section>

    <section id="selected" class="scroll-mt-20">
      <h2 class="text-2xl font-bold border-b border-zinc-200 dark:border-zinc-800 pb-2 mb-6">
        üåü Selected Publications
      </h2>
      <div id="selected-list" class="space-y-8">
        </div>
    </section>

    <section id="publications" class="scroll-mt-20">
      <h2 class="text-2xl font-bold border-b border-zinc-200 dark:border-zinc-800 pb-2 mb-6">
        üìù Full Publication List
      </h2>
      <div class="flex gap-2 mb-4 text-sm">
        <span class="px-2 py-1 rounded bg-zinc-100 dark:bg-zinc-800 text-zinc-500">Filters:</span>
        <button class="px-2 py-1 hover:text-primary font-medium" onclick="filterList('all')">All</button>
        <button class="px-2 py-1 hover:text-primary font-medium" onclick="filterList('2025')">2025</button>
        <button class="px-2 py-1 hover:text-primary font-medium" onclick="filterList('2024')">2024</button>
        <button class="px-2 py-1 hover:text-primary font-medium" onclick="filterList('2023')">2023</button>
      </div>
      <div id="full-list" class="space-y-3">
        </div>
    </section>

    <div class="grid md:grid-cols-2 gap-10">
      <section id="awards">
        <h2 class="text-xl font-bold border-b border-zinc-200 dark:border-zinc-800 pb-2 mb-4">üèÜ Awards</h2>
        <ul class="space-y-2 text-sm text-zinc-600 dark:text-zinc-400">
          <li><strong>National Scholarship</strong> (2025, 2022)</li>
          <li>Presidential Scholarship, SYSU (2025)</li>
          <li>Outstanding Master's Thesis, BJUT (2023)</li>
          <li>Xiaomi Special Award (Top 10), BJUT (2022)</li>
        </ul>
      </section>
      
      <section id="service">
        <h2 class="text-xl font-bold border-b border-zinc-200 dark:border-zinc-800 pb-2 mb-4">‚öñÔ∏è Service</h2>
        <p class="text-sm text-zinc-600 dark:text-zinc-400 leading-relaxed">
          <strong>Reviewer:</strong> IEEE TNNLS, IEEE TCSS, ACM TIST, ACM MM, AAAI, Neural Networks, Pattern Recognition.
        </p>
      </section>
    </div>

    <section id="map" class="pt-8 border-t border-zinc-200 dark:border-zinc-800">
      <h2 class="text-xl font-bold mb-4 text-center">Visitor Map</h2>
      <div class="flex justify-center grayscale hover:grayscale-0 transition opacity-80 hover:opacity-100">
        <div class="w-full max-w-2xl h-48 bg-zinc-100 dark:bg-zinc-900 rounded-xl flex flex-col items-center justify-center border border-dashed border-zinc-300">
            <span class="text-zinc-400 text-sm font-semibold">ClustrMaps Widget Area</span>
            <span class="text-zinc-400 text-xs mt-1">Please insert your ClustrMaps script here</span>
        </div>
      </div>
    </section>

    <footer id="contact" class="py-10 text-center text-sm text-zinc-500">
      <p>¬© 2025 Mengran Li. Hosted on GitHub Pages.</p>
    </footer>

  </main>

  <div id="bibtexModal" class="fixed inset-0 z-50 hidden flex items-center justify-center modal-overlay opacity-0 transition-opacity duration-300">
    <div class="bg-white dark:bg-zinc-900 rounded-xl shadow-2xl w-full max-w-2xl mx-4 overflow-hidden transform scale-95 transition-transform duration-300" id="modalContent">
      <div class="px-6 py-4 border-b dark:border-zinc-800 flex justify-between items-center bg-zinc-50 dark:bg-zinc-800/50">
        <h3 class="font-bold text-lg">BibTeX Citation</h3>
        <button onclick="closeModal()" class="text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200">‚úï</button>
      </div>
      <div class="p-6">
        <textarea id="bibtexText" class="w-full h-48 p-3 text-xs font-mono bg-zinc-100 dark:bg-zinc-950 rounded border dark:border-zinc-800 focus:outline-none focus:ring-2 ring-primary/50 resize-none" readonly></textarea>
        <div class="mt-4 flex justify-end gap-3">
          <button onclick="closeModal()" class="px-4 py-2 text-sm rounded-lg border hover:bg-zinc-50 dark:border-zinc-700 dark:hover:bg-zinc-800 transition">Close</button>
          <button onclick="copyBibtex()" class="px-4 py-2 text-sm rounded-lg bg-primary text-white hover:bg-blue-600 transition shadow-lg shadow-blue-500/20">Copy to Clipboard</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // 1. Selected Works (Representative)
    const SELECTED_WORKS = [
      {
        id: 'chmr',
        title: 'Learning Cell-Aware Hierarchical Multi-Modal Representations for Robust Molecular Modeling',
        venue: 'AAAI 2025 (Oral)',
        authors: 'Mengran Li, Zelin Zang, Wenbin Xing, Junzhou Chen, Ronghui Zhang, Jiebo Luo, Stan Z. Li',
        desc: 'We propose CHMR, a framework that jointly models local-global dependencies between molecules and cellular responses. By using a tree-structured vector quantization, we capture latent biological hierarchies, significantly improving molecular property prediction.',
        img: './images/chmr_framework.png', 
        paperUrl: 'https://arxiv.org/abs/2511.21120',
        codeUrl: 'https://github.com/limengran98/CHMR',
        tags: ['AI for Science', 'Molecular Modeling'],
        bibtex: `@inproceedings{li2025learning,
  title={Learning Cell-Aware Hierarchical Multi-Modal Representations for Robust Molecular Modeling},
  author={Li, Mengran and Zang, Zelin and Xing, Wenbin and Chen, Junzhou and Zhang, Ronghui and Luo, Jiebo and Li, Stan Z},
  booktitle={Proceedings of the AAAI Conference on Artificial Intelligence},
  year={2025}
}`
      },
      // Placeholders for other representative works as requested
      {
        id: 'placeholder1',
        title: '[Placeholder] Selected Work 2',
        venue: 'Journal/Conference 2025',
        authors: 'Mengran Li, et al.',
        desc: 'This slot is reserved for your next representative work. Please update the title, image, and description in the code.',
        img: 'https://via.placeholder.com/300x180?text=Work+2', 
        paperUrl: '#',
        codeUrl: '#',
        tags: ['Graph Learning'],
        bibtex: ``
      },
      {
        id: 'placeholder2',
        title: '[Placeholder] Selected Work 3',
        venue: 'Journal/Conference 2025',
        authors: 'Mengran Li, et al.',
        desc: 'This slot is reserved for your next representative work. Please update the title, image, and description in the code.',
        img: 'https://via.placeholder.com/300x180?text=Work+3',
        paperUrl: '#',
        codeUrl: '#',
        tags: ['Hypergraph'],
        bibtex: ``
      },
      {
        id: 'placeholder3',
        title: '[Placeholder] Selected Work 4',
        venue: 'Journal/Conference 2025',
        authors: 'Mengran Li, et al.',
        desc: 'This slot is reserved for your next representative work. Please update the title, image, and description in the code.',
        img: 'https://via.placeholder.com/300x180?text=Work+4',
        paperUrl: '#',
        codeUrl: '#',
        tags: ['Bioinformatics'],
        bibtex: ``
      },
      {
        id: 'placeholder4',
        title: '[Placeholder] Selected Work 5',
        venue: 'Journal/Conference 2025',
        authors: 'Mengran Li, et al.',
        desc: 'This slot is reserved for your next representative work. Please update the title, image, and description in the code.',
        img: 'https://via.placeholder.com/300x180?text=Work+5',
        paperUrl: '#',
        codeUrl: '#',
        tags: ['AI + X'],
        bibtex: ``
      }
    ];

    // 2. Full Publications List (ALL TITLES ARE NOW FULL LENGTH)
    const FULL_PUBLICATIONS = [
      // --- 2025 ---
      { title: 'Learning Cell-Aware Hierarchical Multi-Modal Representations for Robust Molecular Modeling', venue: 'AAAI Oral', year: '2025', url: 'https://arxiv.org/abs/2511.21120' },
      { title: 'A Survey of Large Language Models for Data Challenges in Graphs', venue: 'Expert Systems with Applications', year: '2025', url: 'https://doi.org/10.1016/j.eswa.2025.129643' },
      { title: 'Attrireboost: A gradient-free propagation optimization method for cold start mitigation in attribute missing graphs', venue: 'arXiv', year: '2025', url: 'https://arxiv.org/pdf/2501.00743' },
      { title: 'Mdvt: Enhancing multimodal recommendation with model-agnostic multimodal-driven virtual triplets', venue: 'ACM SIGKDD', year: '2025', url: 'https://doi.org/10.1145/3711896.3737042' },
      { title: 'Redundancy Is Not What You Need: An Embedding Fusion Graph Auto-Encoder for Self-Supervised Graph Representation Learning', venue: 'IEEE TNNLS', year: '2025', url: 'https://doi.org/10.1109/TNNLS.2024.3357080' },
      { title: 'TDG-Mamba: Advanced Spatiotemporal Embedding for Temporal Dynamic Graph Learning via Bidirectional Information Propagation', venue: 'IEEE TCSS', year: '2025', url: 'https://doi.org/10.1109/TCSS.2024.3509399' },
      { title: 'Topology-Driven Attribute Recovery for Attribute Missing Graph Learning in Social Internet of Things', venue: 'IEEE IoT-J', year: '2025', url: 'https://doi.org/10.1109/JIOT.2025.3531985' },
      { title: 'ElaD-Net: An Elastic Semantic Decoupling Network for Lesion Segmentation in Breast Ultrasound Images', venue: 'IJCAI', year: '2025', url: 'https://doi.org/10.24963/ijcai.2025/235' },
      { title: 'A Two-Stage Method for Specular Highlight Detection and Removal in Medical Images', venue: 'MICCAI', year: '2025', url: 'https://link.springer.com/chapter/10.1007/978-3-032-05127-1_3' },
      { title: 'Effective Finite Time Stability Control for Human‚ÄìMachine Shared Vehicle Following System', venue: 'IEEE TITS', year: '2025', url: 'https://doi.org/10.1109/TITS.2025.3619092' },
      { title: 'MM-STFlowNet: A Transportation Hub-Oriented Multi-Mode Passenger Flow Prediction Method via Spatial-Temporal Dynamic Graph Modeling', venue: 'IEEE TITS', year: '2025', url: 'https://doi.org/10.1109/TITS.2025.3588867' },
      { title: 'Ms-AeDNet: A multi-scale attention-enhanced dynamic network for multi-step performance prediction of hydrogen proton exchange membrane fuel cells', venue: 'Process Safety and Environmental Protection', year: '2025', url: 'https://doi.org/10.1016/j.psep.2025.107674' },
      { title: 'TAS-TsC: A data-driven framework for Estimating Time of Arrival using Temporal-Attribute-Spatial Tri-space Coordination of truck trajectories', venue: 'Applied Soft Computing', year: '2025', url: 'https://doi.org/10.1016/j.asoc.2025.113214' },
      
      // --- 2024 ---
      { title: 'Self-Supervised Nodes-Hyperedges Embedding for Heterogeneous Information Network Learning', venue: 'IEEE Transactions on Big Data', year: '2024', url: 'https://doi.org/10.1109/TBDATA.2023.3275374' },
      { title: 'CSAT: Contrastive Sampling-Aggregating Transformer for Community Detection in Attribute-Missing Networks', venue: 'IEEE TCSS', year: '2024', url: 'https://doi.org/10.1109/TCSS.2023.3292145' },
      { title: 'SCAE: Structural Contrastive Auto-encoder for Incomplete Multi-view Representation Learning', venue: 'ACM TOMM', year: '2024', url: 'https://doi.org/10.1145/3672078' },
      { title: 'Contextual Semantics Interaction Graph Embedding Learning for Recommender Systems', venue: 'IEEE TCSS', year: '2024', url: 'https://doi.org/10.1109/TCSS.2024.3394701' },
      { title: 'Gene Expression Prediction from Histology Images via Hypergraph Neural Networks', venue: 'Briefings in Bioinformatics', year: '2024', url: 'https://academic.oup.com/bib/article/25/6/bbae500/7937248' },

      // --- 2023 ---
      { title: 'Hypergraph Transformer Neural Networks', venue: 'ACM TKDD', year: '2023', url: 'https://doi.org/10.1145/3565028' },
      { title: 'Inferring Student Social Links from Spatiotemporal Behavior Data via Entropy-based Analyzing Model', venue: 'Intelligent Data Analysis', year: '2023', url: 'https://doi.org/10.3233/IDA-216318' },

      // --- 2022 ---
      { title: 'SHCN: Self-supervised General Hypergraph Clustering Network', venue: 'IEEE BigData', year: '2022', url: 'https://doi.org/10.1109/BigData55660.2022.10020643' },
      { title: 'Student achievement prediction using deep neural network from multi-source campus data', venue: 'Complex & Intelligent Systems', year: '2022', url: 'https://doi.org/10.1007/s40747-022-00731-8' },
      { title: 'Multi-view Hypergraph Neural Networks for Student Academic Performance Prediction', venue: 'Engineering Applications of Artificial Intelligence', year: '2022', url: 'https://doi.org/10.1016/j.engappai.2022.105174' }
    ];

    // 3. Render Functions
    function renderSelected() {
      const container = document.getElementById('selected-list');
      container.innerHTML = SELECTED_WORKS.map((work, index) => `
        <article class="group relative grid md:grid-cols-[280px,1fr] gap-6 p-4 rounded-2xl border border-zinc-100 dark:border-zinc-800 hover:border-primary/30 hover:shadow-lg hover:shadow-primary/5 transition bg-white dark:bg-zinc-900/50">
          
          <div class="overflow-hidden rounded-lg bg-zinc-100 border border-zinc-200 dark:border-zinc-800 relative">
            <img src="${work.img}" alt="${work.title}" class="w-full h-full object-cover group-hover:scale-105 transition duration-500" onerror="this.src='https://via.placeholder.com/300x180?text=Paper+Image'"/>
          </div>

          <div class="flex flex-col justify-center">
            <h3 class="text-lg font-bold text-zinc-900 dark:text-zinc-100 leading-tight mb-2 group-hover:text-primary transition">
              <a href="${work.paperUrl}" target="_blank">${work.title}</a>
            </h3>
            <div class="text-xs text-zinc-500 mb-2 font-mono">${work.venue}</div>
            <p class="text-sm text-zinc-600 dark:text-zinc-400 mb-3 leading-relaxed line-clamp-3">
              ${work.desc}
            </p>
            
            <div class="flex items-center gap-4 mt-auto">
              ${work.paperUrl !== '#' ? `<a href="${work.paperUrl}" target="_blank" class="text-xs font-semibold flex items-center gap-1 text-zinc-700 dark:text-zinc-300 hover:text-primary">üìÑ Paper</a>` : '<span class="text-xs text-zinc-300 cursor-not-allowed flex items-center gap-1">üìÑ Paper</span>'}
              ${work.codeUrl !== '#' ? `<a href="${work.codeUrl}" target="_blank" class="text-xs font-semibold flex items-center gap-1 text-zinc-700 dark:text-zinc-300 hover:text-primary">üêô Code</a>` : ''}
              
              ${work.bibtex ? `<button onclick="openBibtex(${index})" class="text-xs font-semibold flex items-center gap-1 text-zinc-700 dark:text-zinc-300 hover:text-primary">‚ùù Cite</button>` : ''}

              <div class="ml-auto flex gap-2">
                ${work.tags.map(tag => `<span class="px-2 py-0.5 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 text-[10px] font-medium uppercase tracking-wider">${tag}</span>`).join('')}
              </div>
            </div>
          </div>
        </article>
      `).join('');
    }

    function renderFullList(filterYear) {
      const container = document.getElementById('full-list');
      const filtered = filterYear === 'all' 
        ? FULL_PUBLICATIONS 
        : FULL_PUBLICATIONS.filter(p => p.year === filterYear);

      container.innerHTML = filtered.map(pub => `
        <div class="flex items-baseline gap-4 py-3 border-b border-zinc-100 dark:border-zinc-800/50 hover:bg-zinc-50 dark:hover:bg-zinc-900 px-3 rounded-lg transition group">
          <span class="text-xs font-mono text-zinc-400 w-12 shrink-0 pt-1">${pub.year}</span>
          <div class="flex-1">
            <a href="${pub.url}" target="_blank" class="text-base font-medium text-zinc-800 dark:text-zinc-200 hover:text-primary transition block leading-snug">
              ${pub.title}
            </a>
            <span class="text-xs text-zinc-500 mt-1 block group-hover:text-zinc-600 dark:group-hover:text-zinc-400 transition">${pub.venue}</span>
          </div>
        </div>
      `).join('');
    }

    // 4. Modal & BibTeX Logic
    const modal = document.getElementById('bibtexModal');
    const modalContent = document.getElementById('modalContent');
    const bibTextArea = document.getElementById('bibtexText');

    function openBibtex(index) {
      const bib = SELECTED_WORKS[index].bibtex;
      if (!bib) return;
      bibTextArea.value = bib;
      modal.classList.remove('hidden');
      setTimeout(() => {
        modal.classList.remove('opacity-0');
        modalContent.classList.remove('scale-95');
        modalContent.classList.add('scale-100');
      }, 10);
    }

    function closeModal() {
      modal.classList.add('opacity-0');
      modalContent.classList.remove('scale-100');
      modalContent.classList.add('scale-95');
      setTimeout(() => {
        modal.classList.add('hidden');
      }, 300);
    }

    function copyBibtex() {
      bibTextArea.select();
      navigator.clipboard.writeText(bibTextArea.value).then(() => {
        const btn = document.querySelector('button[onclick="copyBibtex()"]');
        const originalText = btn.innerText;
        btn.innerText = 'Copied!';
        btn.classList.add('bg-green-600');
        setTimeout(() => {
          btn.innerText = originalText;
          btn.classList.remove('bg-green-600');
        }, 2000);
      });
    }

    modal.addEventListener('click', (e) => {
      if (e.target === modal) closeModal();
    });

    // 5. Initialization
    window.filterList = (year) => renderFullList(year);
    
    (function(){
      const key='ml-dark';
      const root=document.documentElement;
      const saved=localStorage.getItem(key);
      if(saved==='1'||(!saved&&window.matchMedia('(prefers-color-scheme: dark)').matches)){
        root.classList.add('dark');
      }
      document.getElementById('darkToggle').addEventListener('click',()=>{
        const d=root.classList.toggle('dark');
        localStorage.setItem(key,d?'1':'0');
      });
    })();

    renderSelected();
    renderFullList('all');

  </script>
</body>
</html>
